// OAuth 2.0 code flow
Flow agama.inbound.oauth2.authzCode
     Basepath ""
     Inputs oauthParams
When oauthParams.redirectUri is null
     // Obtain hostname from HTTP url
     issuer = Call io.jans.util.NetworkUtils#urlBeforeContextPath  
     // assign redirect url 
     list = [issuer, "/jans-auth/fl/callback"]
     // Build redirect uri
     oauthParams.redirectUri = Call java.lang.String#join "" list
// Instantiate code grant utility
codeGrantUtil = Call io.jans.inbound.oauth2.CodeGrantUtil#new oauthParams
// authorization request
Log "@info Creating an authorization request"
// generate authorization request
url = Call codeGrantUtil makeAuthzRequest  